{% extends '@ibexadesign/pagelayout.html.twig' %}
{% block javascripts %}
    {{ encore_entry_script_tags('dealership-page-js') }}
{% endblock %}
{% block content %}
    <ul>
        {% set searchResultsFiltered = cars %}
        <strong>
            nazwa: {{ content.name }}
        </strong>
        <p>
            adres: {{ ibexa_render_field(content, 'address') }}
        </p>
        <div>
            {{ ibexa_render_field(content, 'dealership_location', {'parameters': {'width': '30%', 'height': '200px', 'showMap': true, 'showInfo': false }}) }}
        </div>
        oferta
        <div class="search-bar">
            <label for="search">Search:</label>
            <input type="text" id="search" class="search-input" placeholder="Search by brand, model, year, or price">
            <button class="sortButton" data-sort-by="car_brand">Sort by Brand</button>
            <button class="sortButton" data-sort-by="model">Sort by model</button>
            <button class="sortButton" data-sort-by="year">Sort by year</button>
            <button class="sortButton" data-sort-by="price">Sort by price</button>
        </div>
        <div class="car_list">
            {% for car in searchResultsFiltered %}
                    <div  class="car-row">
                        <a href="{{ ibexa_path(car) }}">
                            <div>
                                <strong>marka:</strong>
                                <div class="car_brand">{{ ibexa_render_field(car.content, 'car_brand') }}</div>
                                <strong>model:</strong>
                                <div class="model">{{ ibexa_render_field(car.content, 'model') }}</div>
                                <strong>rok:</strong>
                                <div class="year">{{ ibexa_render_field(car.content, 'year') }}</div>
                                <strong>cena:</strong>
                                <div class="price">{{ ibexa_render_field(car.content, 'price') }}</div>
                                <hr/>
                            </div>
                        </a>
                    </div>

            {% endfor %}
        </div>
    </ul>
{% endblock %}

